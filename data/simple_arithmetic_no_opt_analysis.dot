digraph {
  rankdir=TB;
  node [shape=box, fontname="monospace"];
  edge [fontname="Arial"];

  subgraph cluster_function_0 {
    label = "Function 0";
    style = filled;
    color = lightgrey;

    edge [fontname="Arial"];

    f0_n0 [label="Block 0 (PC 0-8)\l  0: DeclareGlobalVar  \"test\"\l  1: CreateEnvironment r1\l  2: CreateClosure     r1, r1, Function<test>1\l  3: GetGlobalObject   r2\l  4: PutById           r2, r1, 1, \"test\"\l  5: LoadConstUndefined r2\l  6: Mov               r1, r2\l  7: Ret               r1\l"]
    f0_n1 [style=filled, fillcolor=lightgray, label="EXIT"]

    f0_n0 -> f0_n1 [label="Unconditional", color=black]
  }

  subgraph cluster_function_1 {
    label = "Function 1";
    style = filled;
    color = lightgrey;

    edge [fontname="Arial"];

    f1_n0 [label="Block 0 (PC 0-17)\l  0: CreateEnvironment r1\l  1: LoadConstUndefined r2\l  2: StoreNPToEnvironment r1, 0, r2\l  3: LoadConstUndefined r2\l  4: StoreNPToEnvironment r1, 1, r2\l  5: LoadConstUndefined r2\l  6: StoreNPToEnvironment r1, 2, r2\l  7: LoadConstUInt8    r2, 42\l  8: StoreNPToEnvironment r1, 0, r2\l  9: LoadConstUInt8    r2, 10\l  10: StoreNPToEnvironment r1, 1, r2\l  11: LoadFromEnvironment r2, r1, 0\l  12: LoadFromEnvironment r3, r1, 1\l  13: Add               r2, r2, r3\l  14: StoreToEnvironment r1, 2, r2\l  15: LoadFromEnvironment r1, r1, 2\l  16: Ret               r1\l"]
    f1_n1 [style=filled, fillcolor=lightgray, label="EXIT"]

    f1_n0 -> f1_n1 [label="Unconditional", color=black]
  }

}
